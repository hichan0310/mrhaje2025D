# 씬 구성 개요

## 플레이어가 움직이는 공간
- `Ground`와 `Platform` 오브젝트가 실제 충돌 지형을 담당합니다.
  - 두 오브젝트는 각각 `BoxCollider2D`를 가지고 있으며 `Ground` 레이어와 `Platform` 레이어에 속해 있습니다.
  - `PlayerActionController`가 자동으로 이 레이어들을 감지해 점프/드롭 판정을 수행하므로, 동일한 레이어를 사용하면 추가 플랫폼을 쉽게 늘릴 수 있습니다.
- 플레이어(`Player` 오브젝트)는 `Rigidbody2D`와 `Collider2D`를 통해 위 지형과 직접 상호작용합니다.
  - 입력에 따라 이동/점프/드롭이 즉시 반영되며, 씬 내 월드 좌표 기준으로 움직입니다.
  - 필요 시 더 많은 지형을 추가하고 싶다면 동일한 레이어/콜라이더 구성을 가진 스프라이트나 타일맵을 배치하면 됩니다.

## 전투 보드 UI
- `Battle Ui Root`에는 `BattleUIController`가 붙어 있으며, 런타임에 전용 캔버스를 생성합니다.
  - 생성되는 캔버스는 `ScreenSpaceOverlay` 모드라서 **씬 내 월드 오브젝트와 충돌하거나 겹치지 않습니다.**
  - 따라서 플레이어가 뛰어다니는 공간과 전투 보드 UI는 서로 다른 좌표계에 존재하며, 물리 충돌에 영향을 주지 않습니다.
- `BattleMapRenderer`는 생성된 캔버스 안에서만 타일 버튼을 배치합니다.
  - 기본적으로 `Image.raycastTarget`을 사용해 UI 이벤트만 처리하므로, 보드 UI에는 별도의 Collider가 필요하지 않습니다.

## 함께 사용할 때 주의할 점
1. 플레이어용 지형은 반드시 2D Collider를 가진 월드 오브젝트로 구성합니다. Collider를 `Is Trigger`로 전환하면 플레이어가 통과해 버립니다.
2. 전투 맵 UI는 HUD와 같은 오버레이로 취급하세요. 만약 월드 공간 위에 띄우고 싶다면 `BattleUIController`의 `CreateCanvas` 부분을 수정해 `WorldSpace` 모드를 사용하도록 바꿔야 합니다.
3. 씬 작업 시 UI와 월드 오브젝트가 헷갈린다면, `Battle Ui Root`를 비활성화한 뒤 플레이어 환경을 먼저 정비하고, 이후 다시 켜서 UI 배치를 확인하는 방식이 좋습니다.

## 추가 지형을 배치하는 예시
1. Hierarchy에서 빈 게임오브젝트를 만들고 이름을 `Ground Extension`으로 설정합니다.
2. `SpriteRenderer`와 `BoxCollider2D`를 추가하고, 레이어를 `Ground`로 지정합니다.
3. 크기와 위치를 조절해 기존 Ground와 연결되도록 배치합니다. 플레이어는 별다른 스크립트 수정 없이 즉시 확장된 지형을 사용할 수 있습니다.

위 구성 덕분에 플레이어는 월드 공간에서 물리 충돌을 사용해 움직이고, 전투 보드는 UI 오버레이로 독립적으로 작동합니다.
